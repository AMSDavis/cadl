http:
  connections:
    - url: https://rest.ably.io
  headers:
    - $key: ErrorCode
      description: The error code.
      schema:
        &a2
        type: int64
    - $key: ErrorMessage
      description: The error message.
      schema:
        &a1
        type: string
    - $key: Link
      description: Links to related resources, in the format defined by [RFC
        5988](https://tools.ietf.org/html/rfc5988#section-5). This will
        potentially include a link with relation type `next`, `first`, and
        `current`, where appropiate.
      schema:
        &a33
        type: alias
        constraints:
          - name: RegularExpression
            type: constraint
            length: (<(.*)?>; rel=\"(first|current|last)?\",)*(<(.*)?>;
              rel=\"(first|current|last)?\")+
        targetSchema: *a1
    - $key: ServerId
      description: The ID for the server communicated with.
      schema: *a1
metaData:
  name: Ably
  contacts:
    - name: Ably Support
      email: support@ably.io
      role: author
      url: https://www.ably.io/contact
      attic:
        x-twitter: ablyrealtime
  description: The [REST API
    specification](https://www.ably.io/documentation/rest-api) for Ably.
  attic:
    x-apisguru-categories:
      - cloud
    x-logo:
      url: https://twitter.com/ablyrealtime/profile_image?size=original
    x-origin:
      - converter:
          url: https://github.com/lucybot/api-spec-converter
          version: 2.7.25
        format: openapi
        url: https://raw.githubusercontent.com/ably/open-specs/master/swagger.yaml
        version: "3.0"
    x-providerName: ably.io
schemas:
  primitives:
    - *a1
    - &a8
      type: boolean
    - *a2
    - type: any
  enums:
    - &a12
      type: enum
      elementSchema:
        &a3
        type: alias
        targetSchema: *a1
      sealed: true
      values:
        - type: constant
          value: phone
          valueSchema: *a3
        - type: constant
          value: tablet
          valueSchema: *a3
        - type: constant
          value: desktop
          valueSchema: *a3
        - type: constant
          value: tv
          valueSchema: *a3
        - type: constant
          value: watch
          valueSchema: *a3
        - type: constant
          value: car
          valueSchema: *a3
        - type: constant
          value: embedded
          valueSchema: *a3
    - &a14
      type: enum
      elementSchema:
        &a4
        type: alias
        targetSchema: *a1
      sealed: true
      values:
        - type: constant
          value: ios
          valueSchema: *a4
        - type: constant
          value: android
          valueSchema: *a4
    - &a11
      type: enum
      elementSchema:
        &a5
        type: alias
        targetSchema: *a1
      sealed: true
      values:
        - type: constant
          value: apns
          valueSchema: *a5
        - type: constant
          value: fcm
          valueSchema: *a5
        - type: constant
          value: gcm
          valueSchema: *a5
    - &a16
      type: enum
      elementSchema:
        &a6
        type: alias
        targetSchema: *a1
      sealed: true
      values:
        - type: constant
          value: Active
          valueSchema: *a6
        - type: constant
          value: Failing
          valueSchema: *a6
        - type: constant
          value: Failed
          valueSchema: *a6
    - &a23
      type: enum
      elementSchema:
        &a7
        type: alias
        targetSchema: *a1
      sealed: true
      values:
        - type: constant
          value: ABSENT
          valueSchema: *a7
        - type: constant
          value: PRESENT
          valueSchema: *a7
        - type: constant
          value: ENTER
          valueSchema: *a7
        - type: constant
          value: LEAVE
          valueSchema: *a7
        - type: constant
          value: UPDATE
          valueSchema: *a7
  objects:
    - &a9
      $key: Occupancy
      type: object
      description: An Occupancy instance indicating the occupancy of a channel. For
        events indicating regional activity of a channel this indicates activity
        in that region, not global activity.
      properties:
        - name: presenceConnections
          schema:
            &a26
            type: alias
            targetSchema: *a2
        - name: presenceMembers
          schema:
            type: alias
            targetSchema: *a2
        - name: presenceSubscribers
          schema:
            type: alias
            targetSchema: *a2
        - name: publishers
          schema:
            type: alias
            targetSchema: *a2
        - name: subscribers
          schema:
            type: alias
            targetSchema: *a2
    - &a10
      $key: ChannelStatus
      type: object
      description: A ChannelStatus instance.
      properties:
        - name: isActive
          required: true
          schema: *a8
        - name: occupancy
          schema:
            &a27
            type: alias
            targetSchema: *a9
    - $key: ChannelDetails
      type: object
      properties:
        - name: channelId
          required: true
          schema:
            &a25
            type: alias
            targetSchema: *a1
        - name: isGlobalMaster
          schema: *a8
        - name: region
          schema:
            type: alias
            targetSchema: *a1
        - name: status
          schema:
            &a28
            type: alias
            targetSchema: *a10
    - &a13
      $key: metadata
      type: object
      description: Optional metadata object for this device. The metadata for a device
        may only be set by clients with push-admin privileges and will be used
        more extensively in the future with smart notifications.
    - &a15
      $key: Recipient
      type: object
      description: Push recipient details for a device.
      properties:
        - name: clientId
          schema:
            type: alias
            targetSchema: *a1
        - name: deviceId
          schema:
            type: alias
            targetSchema: *a1
        - name: deviceToken
          schema:
            type: alias
            targetSchema: *a1
        - name: registrationToken
          schema:
            type: alias
            targetSchema: *a1
        - name: transportType
          schema: *a11
    - $key: DeviceDetails
      type: object
      properties:
        - name: clientId
          schema:
            type: alias
            targetSchema: *a1
        - name: deviceSecret
          schema:
            type: alias
            targetSchema: *a1
        - name: formFactor
          schema: *a12
        - name: id
          schema:
            type: alias
            targetSchema: *a1
        - name: metadata
          schema: *a13
        - name: platform
          schema: *a14
        - name: push.recipient
          schema:
            &a29
            type: alias
            targetSchema: *a15
        - name: push.state
          schema: *a16
    - $key: Error
      type: object
      description: Returned error from failed REST.
      properties:
        - name: code
          schema:
            type: alias
            targetSchema: *a2
        - name: href
          schema:
            type: alias
            targetSchema: *a1
        - name: message
          schema:
            type: alias
            targetSchema: *a1
        - name: serverId
          schema:
            type: alias
            targetSchema: *a1
        - name: statusCode
          schema:
            type: alias
            targetSchema: *a2
    - &a17
      $key: Notification
      type: object
      properties:
        - name: body
          schema:
            type: alias
            targetSchema: *a1
        - name: collapseKey
          schema:
            type: alias
            targetSchema: *a1
        - name: icon
          schema:
            type: alias
            targetSchema: *a1
        - name: sound
          schema:
            type: alias
            targetSchema: *a1
        - name: title
          schema:
            type: alias
            targetSchema: *a1
    - &a18
      $key: apns
      type: object
      description: Extends and overrides generic values when delivering via APNs. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            &a30
            type: alias
            targetSchema: *a17
    - &a19
      $key: fcm
      type: object
      description: Extends and overrides generic values when delivering via GCM/FCM.
        [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            type: alias
            targetSchema: *a17
    - &a20
      $key: web
      type: object
      description: Extends and overrides generic values when delivering via web. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            type: alias
            targetSchema: *a17
    - &a21
      $key: Push
      type: object
      properties:
        - name: apns
          schema: *a18
        - name: data
          schema:
            type: alias
            targetSchema: *a1
        - name: fcm
          schema: *a19
        - name: notification
          schema:
            type: alias
            targetSchema: *a17
        - name: web
          schema: *a20
    - &a22
      $key: Extras
      type: object
      description: Extras object. Currently only allows for
        [push](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example)
        extra.
      properties:
        - name: push
          schema:
            &a31
            type: alias
            targetSchema: *a21
    - $key: Message
      type: object
      description: Message object.
      properties:
        - name: clientId
          schema:
            type: alias
            targetSchema: *a1
        - name: connectionId
          schema:
            type: alias
            targetSchema: *a1
        - name: data
          schema:
            type: alias
            targetSchema: *a1
        - name: encoding
          schema:
            type: alias
            targetSchema: *a1
        - name: extras
          schema:
            &a32
            type: alias
            targetSchema: *a22
        - name: id
          schema:
            type: alias
            targetSchema: *a1
        - name: name
          schema:
            type: alias
            targetSchema: *a1
        - name: timestamp
          schema:
            type: alias
            targetSchema: *a2
    - $key: PresenceMessage
      type: object
      properties:
        - name: action
          schema: *a23
        - name: clientId
          schema:
            type: alias
            targetSchema: *a1
        - name: connectionId
          schema:
            type: alias
            targetSchema: *a1
        - name: data
          schema:
            type: alias
            targetSchema: *a1
        - name: encoding
          schema:
            type: alias
            targetSchema: *a1
        - name: extras
          schema:
            type: alias
            targetSchema: *a22
        - name: id
          schema:
            type: alias
            targetSchema: *a1
        - name: timestamp
          schema:
            type: alias
            targetSchema: *a2
    - $key: TokenDetails
      type: object
      properties:
        - name: capability
          schema:
            type: alias
            targetSchema: *a1
        - name: expires
          schema:
            type: alias
            targetSchema: *a2
        - name: issued
          schema:
            type: alias
            targetSchema: *a2
        - name: keyName
          schema:
            type: alias
            targetSchema: *a1
        - name: token
          schema:
            type: alias
            targetSchema: *a1
    - &a24
      $key: capability
      type: object
      description: The
        [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
        (i.e. a set of channel names/namespaces and, for each, a set of
        operations) which should be a subset of the set of capabilities
        associated with the key specified in keyName.
    - $key: TokenRequest
      type: object
      properties:
        - name: capability
          required: true
          schema: *a24
        - name: clientId
          schema:
            type: alias
            targetSchema: *a1
        - name: keyName
          required: true
          schema:
            type: alias
            targetSchema: *a1
        - name: nonce
          required: true
          schema:
            type: alias
            targetSchema: *a1
        - name: timestamp
          required: true
          schema:
            type: alias
            targetSchema: *a2
  aliases:
    - *a25
    - *a26
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
