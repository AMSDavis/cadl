http:
  headers:
    - $key: ErrorCode
      description: The error code.
      schema:
        &a2
        name: ""
        type: int64
    - $key: ErrorMessage
      description: The error message.
      schema:
        &a1
        name: ""
        type: string
    - $key: Link
      description: Links to related resources, in the format defined by [RFC
        5988](https://tools.ietf.org/html/rfc5988#section-5). This will
        potentially include a link with relation type `next`, `first`, and
        `current`, where appropiate.
      schema:
        &a81
        name: ""
        type: alias
        constraints:
          - name: RegularExpression
            type: constraint
            length: (<(.*)?>; rel=\"(first|current|last)?\",)*(<(.*)?>;
              rel=\"(first|current|last)?\")+
        targetSchema: *a1
    - $key: ServerId
      description: The ID for the server communicated with.
      schema: *a1
metaData:
  name: Ably
  contacts:
    - name: Ably Support
      email: support@ably.io
      role: author
      url: https://www.ably.io/contact
      attic:
        x-twitter: ablyrealtime
  description: The [REST API
    specification](https://www.ably.io/documentation/rest-api) for Ably.
  attic:
    x-apisguru-categories:
      - cloud
    x-logo:
      url: https://twitter.com/ablyrealtime/profile_image?size=original
    x-origin:
      - converter:
          url: https://github.com/lucybot/api-spec-converter
          version: 2.7.25
        format: openapi
        url: https://raw.githubusercontent.com/ably/open-specs/master/swagger.yaml
        version: "3.0"
    x-providerName: ably.io
schemas:
  primitives:
    - *a1
    - &a8
      name: ""
      type: boolean
    - *a2
  combinations:
    - name: SignedTokenRequest
      type: And
      allOf:
        - &a75
          name: ""
          type: alias
          targetSchema:
            &a26
            $key: TokenRequest
            name: ""
            type: object
            properties:
              - name: capability
                description: The
                  [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
                  (i.e. a set of channel names/namespaces and, for each, a set
                  of operations) which should be a subset of the set of
                  capabilities associated with the key specified in keyName.
                required: true
                schema:
                  &a24
                  $key: allOf
                  name: ""
                  type: object
                  description: The
                    [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
                    (i.e. a set of channel names/namespaces and, for each, a set
                    of operations) which should be a subset of the set of
                    capabilities associated with the key specified in keyName.
                  attic:
                    example:
                      channel1:
                        - publish
                        - subscribe
              - name: clientId
                description: The [client
                  ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                  to be assosciated with the token. Can be set to * to allow for
                  any client ID to be used.
                schema:
                  &a71
                  name: ""
                  type: alias
                  description: The [client
                    ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
                    to be assosciated with the token. Can be set to * to allow
                    for any client ID to be used.
                  targetSchema: *a1
              - name: keyName
                description: Name of the key used for the TokenRequest. The keyName comprises of
                  the app ID and key ID on an API Key.
                required: true
                schema:
                  &a72
                  name: ""
                  type: alias
                  description: Name of the key used for the TokenRequest. The keyName comprises of
                    the app ID and key ID on an API Key.
                  targetSchema: *a1
                  attic:
                    example: xVLyHw.LMJZxw
              - name: nonce
                description: An unquoted, un-escaped random string of at least 16 characters.
                  Used to ensure the Ably TokenRequest cannot be reused.
                required: true
                schema:
                  &a73
                  name: ""
                  type: alias
                  description: An unquoted, un-escaped random string of at least 16 characters.
                    Used to ensure the Ably TokenRequest cannot be reused.
                  targetSchema: *a1
              - name: timestamp
                description: Time of creation of the Ably TokenRequest.
                required: true
                schema:
                  &a74
                  name: ""
                  type: alias
                  description: Time of creation of the Ably TokenRequest.
                  targetSchema: *a2
        - &a25
          $key: allOf
          name: ""
          type: object
          properties:
            - name: mac
              description: A signature, generated as an HMAC of each of the above components,
                using the key secret value.
              required: true
              schema:
                &a70
                name: ""
                type: alias
                description: A signature, generated as an HMAC of each of the above components,
                  using the key secret value.
                targetSchema: *a1
  enums:
    - &a12
      name: ""
      type: enum
      elementSchema:
        &a3
        name: ""
        type: alias
        description: Form factor of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name: ""
          type: constant
          value: phone
          valueSchema: *a3
        - name: ""
          type: constant
          value: tablet
          valueSchema: *a3
        - name: ""
          type: constant
          value: desktop
          valueSchema: *a3
        - name: ""
          type: constant
          value: tv
          valueSchema: *a3
        - name: ""
          type: constant
          value: watch
          valueSchema: *a3
        - name: ""
          type: constant
          value: car
          valueSchema: *a3
        - name: ""
          type: constant
          value: embedded
          valueSchema: *a3
    - &a14
      name: ""
      type: enum
      elementSchema:
        &a4
        name: ""
        type: alias
        description: Platform of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name: ""
          type: constant
          value: ios
          valueSchema: *a4
        - name: ""
          type: constant
          value: android
          valueSchema: *a4
    - &a11
      name: ""
      type: enum
      elementSchema:
        &a5
        name: ""
        type: alias
        description: Defines which push platform is being used.
        targetSchema: *a1
      sealed: true
      values:
        - name: ""
          type: constant
          value: apns
          valueSchema: *a5
        - name: ""
          type: constant
          value: fcm
          valueSchema: *a5
        - name: ""
          type: constant
          value: gcm
          valueSchema: *a5
    - &a16
      name: ""
      type: enum
      elementSchema:
        &a6
        name: ""
        type: alias
        description: the current state of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name: ""
          type: constant
          value: Active
          valueSchema: *a6
        - name: ""
          type: constant
          value: Failing
          valueSchema: *a6
        - name: ""
          type: constant
          value: Failed
          valueSchema: *a6
    - &a23
      name: ""
      type: enum
      elementSchema:
        &a7
        name: ""
        type: alias
        description: The event signified by a PresenceMessage.
        targetSchema: *a1
      sealed: true
      values:
        - name: ""
          type: constant
          value: ABSENT
          valueSchema: *a7
        - name: ""
          type: constant
          value: PRESENT
          valueSchema: *a7
        - name: ""
          type: constant
          value: ENTER
          valueSchema: *a7
        - name: ""
          type: constant
          value: LEAVE
          valueSchema: *a7
        - name: ""
          type: constant
          value: UPDATE
          valueSchema: *a7
  objects:
    - &a9
      $key: Occupancy
      name: ""
      type: object
      description: An Occupancy instance indicating the occupancy of a channel. For
        events indicating regional activity of a channel this indicates activity
        in that region, not global activity.
      properties:
        - name: presenceConnections
          description: The number of connections that are authorised to enter members into
            the presence channel.
          schema:
            &a29
            name: ""
            type: alias
            description: The number of connections that are authorised to enter members into
              the presence channel.
            targetSchema: *a2
        - name: presenceMembers
          description: The number of members currently entered into the presence channel.
          schema:
            &a30
            name: ""
            type: alias
            description: The number of members currently entered into the presence channel.
            targetSchema: *a2
        - name: presenceSubscribers
          description: The number of connections that are authorised to subscribe to
            presence messages.
          schema:
            &a31
            name: ""
            type: alias
            description: The number of connections that are authorised to subscribe to
              presence messages.
            targetSchema: *a2
        - name: publishers
          description: The number of connections attached to the channel that are
            authorised to publish.
          schema:
            &a32
            name: ""
            type: alias
            description: The number of connections attached to the channel that are
              authorised to publish.
            targetSchema: *a2
        - name: subscribers
          description: The number of connections attached that are authorised to subscribe
            to messages.
          schema:
            &a33
            name: ""
            type: alias
            description: The number of connections attached that are authorised to subscribe
              to messages.
            targetSchema: *a2
    - &a10
      $key: ChannelStatus
      name: ""
      type: object
      description: A ChannelStatus instance.
      properties:
        - name: isActive
          description: A required boolean value indicating whether the channel that is the
            subject of the event is active. For events indicating regional
            activity of a channel this indicates activity in that region, not
            global activity.
          required: true
          schema: *a8
        - name: occupancy
          schema:
            &a34
            name: ""
            type: alias
            targetSchema: *a9
    - $key: ChannelDetails
      name: ""
      type: object
      properties:
        - name: channelId
          description: The required name of the channel including any qualifier, if any.
          required: true
          schema:
            &a27
            name: ""
            type: alias
            description: The required name of the channel including any qualifier, if any.
            targetSchema: *a1
        - name: isGlobalMaster
          description: In events relating to the activity of a channel in a specific
            region, this optionally identifies whether or not that region is
            responsible for global coordination of the channel.
          schema: *a8
        - name: region
          description: In events relating to the activity of a channel in a specific
            region, this optionally identifies the region.
          schema:
            &a28
            name: ""
            type: alias
            description: In events relating to the activity of a channel in a specific
              region, this optionally identifies the region.
            targetSchema: *a1
        - name: status
          schema:
            &a35
            name: ""
            type: alias
            targetSchema: *a10
    - &a13
      $key: allOf
      name: ""
      type: object
      description: Optional metadata object for this device. The metadata for a device
        may only be set by clients with push-admin privileges and will be used
        more extensively in the future with smart notifications.
    - &a15
      $key: Recipient
      name: ""
      type: object
      description: Push recipient details for a device.
      properties:
        - name: clientId
          description: Client ID of recipient
          schema:
            &a39
            name: ""
            type: alias
            description: Client ID of recipient
            targetSchema: *a1
          writeonly: true
        - name: deviceId
          description: Client ID of recipient
          schema:
            name: ""
            type: alias
            description: Client ID of recipient
            targetSchema: *a1
          writeonly: true
        - name: deviceToken
          description: when using APNs, specifies the required device token.
          schema:
            &a40
            name: ""
            type: alias
            description: when using APNs, specifies the required device token.
            targetSchema: *a1
        - name: registrationToken
          description: when using GCM or FCM, specifies the required registration token.
          schema:
            &a41
            name: ""
            type: alias
            description: when using GCM or FCM, specifies the required registration token.
            targetSchema: *a1
        - name: transportType
          description: Defines which push platform is being used.
          schema: *a11
    - $key: DeviceDetails
      name: ""
      type: object
      properties:
        - name: clientId
          description: Optional trusted client identifier for the device.
          schema:
            &a36
            name: ""
            type: alias
            description: Optional trusted client identifier for the device.
            targetSchema: *a1
        - name: deviceSecret
          description: Secret value for the device.
          schema:
            &a37
            name: ""
            type: alias
            description: Secret value for the device.
            targetSchema: *a1
        - name: formFactor
          description: Form factor of the push device.
          schema: *a12
        - name: id
          description: Unique identifier for the device generated by the device itself.
          schema:
            &a38
            name: ""
            type: alias
            description: Unique identifier for the device generated by the device itself.
            targetSchema: *a1
        - name: metadata
          description: Optional metadata object for this device. The metadata for a device
            may only be set by clients with push-admin privileges and will be
            used more extensively in the future with smart notifications.
          schema: *a13
        - name: platform
          description: Platform of the push device.
          schema: *a14
        - name: push.recipient
          schema:
            &a42
            name: ""
            type: alias
            targetSchema: *a15
        - name: push.state
          description: the current state of the push device.
          readonly: true
          schema: *a16
    - $key: Error
      name: ""
      type: object
      description: Returned error from failed REST.
      properties:
        - name: code
          description: Error code.
          schema:
            &a43
            name: ""
            type: alias
            description: Error code.
            targetSchema: *a2
        - name: href
          description: Link to help with error.
          schema:
            &a44
            name: ""
            type: alias
            description: Link to help with error.
            targetSchema: *a1
        - name: message
          description: Message explaining the error's cause.
          schema:
            &a45
            name: ""
            type: alias
            description: Message explaining the error's cause.
            targetSchema: *a1
        - name: serverId
          description: Server ID with which error was encountered.
          schema:
            &a46
            name: ""
            type: alias
            description: Server ID with which error was encountered.
            targetSchema: *a1
        - name: statusCode
          description: Status error code.
          schema:
            &a47
            name: ""
            type: alias
            description: Status error code.
            targetSchema: *a2
    - &a17
      $key: Notification
      name: ""
      type: object
      properties:
        - name: body
          description: Text below title on the expanded notification.
          schema:
            &a48
            name: ""
            type: alias
            description: Text below title on the expanded notification.
            targetSchema: *a1
        - name: collapseKey
          description: Platform-specific, used to group notifications together.
          schema:
            &a49
            name: ""
            type: alias
            description: Platform-specific, used to group notifications together.
            targetSchema: *a1
        - name: icon
          description: Platform-specific icon for the notification.
          schema:
            &a50
            name: ""
            type: alias
            description: Platform-specific icon for the notification.
            targetSchema: *a1
        - name: sound
          description: Platform-specific sound for the notification.
          schema:
            &a51
            name: ""
            type: alias
            description: Platform-specific sound for the notification.
            targetSchema: *a1
        - name: title
          description: Title to display at the notification.
          schema:
            &a52
            name: ""
            type: alias
            description: Title to display at the notification.
            targetSchema: *a1
    - &a18
      $key: allOf
      name: ""
      type: object
      description: Extends and overrides generic values when delivering via APNs. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            &a53
            name: ""
            type: alias
            targetSchema: *a17
    - &a19
      $key: allOf
      name: ""
      type: object
      description: Extends and overrides generic values when delivering via GCM/FCM.
        [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            name: ""
            type: alias
            targetSchema: *a17
    - &a20
      $key: allOf
      name: ""
      type: object
      description: Extends and overrides generic values when delivering via web. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema:
            name: ""
            type: alias
            targetSchema: *a17
    - &a21
      $key: Push
      name: ""
      type: object
      properties:
        - name: apns
          description: Extends and overrides generic values when delivering via APNs. [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a18
        - name: data
          description: Arbitrary [key-value string-to-string
            payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
          schema:
            &a54
            name: ""
            type: alias
            description: Arbitrary [key-value string-to-string
              payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
            targetSchema: *a1
        - name: fcm
          description: Extends and overrides generic values when delivering via GCM/FCM.
            [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a19
        - name: notification
          schema:
            name: ""
            type: alias
            targetSchema: *a17
        - name: web
          description: Extends and overrides generic values when delivering via web. [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a20
    - &a22
      $key: Extras
      name: ""
      type: object
      description: Extras object. Currently only allows for
        [push](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example)
        extra.
      properties:
        - name: push
          schema:
            &a55
            name: ""
            type: alias
            targetSchema: *a21
    - $key: Message
      name: ""
      type: object
      description: Message object.
      properties:
        - name: clientId
          description: The [client
            ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
            of the publisher of this message.
          schema:
            &a56
            name: ""
            type: alias
            description: The [client
              ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
              of the publisher of this message.
            targetSchema: *a1
        - name: connectionId
          description: The connection ID of the publisher of this message.
          schema:
            &a57
            name: ""
            type: alias
            description: The connection ID of the publisher of this message.
            targetSchema: *a1
        - name: data
          description: The string encoded payload, with the encoding specified below.
          schema:
            &a58
            name: ""
            type: alias
            description: The string encoded payload, with the encoding specified below.
            targetSchema: *a1
        - name: encoding
          description: This will typically be empty as all messages received from Ably are
            automatically decoded client-side using this value. However, if the
            message encoding cannot be processed, this attribute will contain
            the remaining transformations not applied to the data payload.
          schema:
            &a59
            name: ""
            type: alias
            description: This will typically be empty as all messages received from Ably are
              automatically decoded client-side using this value. However, if
              the message encoding cannot be processed, this attribute will
              contain the remaining transformations not applied to the data
              payload.
            targetSchema: *a1
        - name: extras
          schema:
            &a60
            name: ""
            type: alias
            targetSchema: *a22
        - name: id
          description: A Unique ID that can be specified by the publisher for [idempotent
            publishing](https://www.ably.io/documentation/rest/messages#idempotent).
          readonly: true
          schema:
            &a61
            name: ""
            type: alias
            description: A Unique ID that can be specified by the publisher for [idempotent
              publishing](https://www.ably.io/documentation/rest/messages#idempotent).
            targetSchema: *a1
        - name: name
          description: The event name, if provided.
          schema:
            &a62
            name: ""
            type: alias
            description: The event name, if provided.
            targetSchema: *a1
        - name: timestamp
          description: Timestamp when the message was received by the Ably, as
            milliseconds since the epoch.
          readonly: true
          schema:
            &a63
            name: ""
            type: alias
            description: Timestamp when the message was received by the Ably, as
              milliseconds since the epoch.
            targetSchema: *a2
    - $key: PresenceMessage
      name: ""
      type: object
      properties:
        - name: action
          description: The event signified by a PresenceMessage.
          readonly: true
          schema: *a23
        - name: clientId
          description: The client ID of the publisher of this presence update.
          schema:
            &a64
            name: ""
            type: alias
            description: The client ID of the publisher of this presence update.
            targetSchema: *a1
        - name: connectionId
          description: The connection ID of the publisher of this presence update.
          schema:
            &a65
            name: ""
            type: alias
            description: The connection ID of the publisher of this presence update.
            targetSchema: *a1
        - name: data
          description: The presence update payload, if provided.
          schema:
            &a66
            name: ""
            type: alias
            description: The presence update payload, if provided.
            targetSchema: *a1
        - name: encoding
          description: This will typically be empty as all presence updates received from
            Ably are automatically decoded client-side using this value.
            However, if the message encoding cannot be processed, this attribute
            will contain the remaining transformations not applied to the data
            payload.
          schema:
            &a67
            name: ""
            type: alias
            description: This will typically be empty as all presence updates received from
              Ably are automatically decoded client-side using this value.
              However, if the message encoding cannot be processed, this
              attribute will contain the remaining transformations not applied
              to the data payload.
            targetSchema: *a1
        - name: extras
          schema:
            name: ""
            type: alias
            targetSchema: *a22
        - name: id
          description: Unique ID assigned by Ably to this presence update.
          readonly: true
          schema:
            &a68
            name: ""
            type: alias
            description: Unique ID assigned by Ably to this presence update.
            targetSchema: *a1
        - name: timestamp
          description: Timestamp when the presence update was received by Ably, as
            milliseconds since the epoch.
          readonly: true
          schema:
            &a69
            name: ""
            type: alias
            description: Timestamp when the presence update was received by Ably, as
              milliseconds since the epoch.
            targetSchema: *a2
    - *a24
    - *a25
    - *a26
    - $key: TokenDetails
      name: ""
      type: object
      properties:
        - name: capability
          description: Regular expression representation of the capabilities of the token.
          schema:
            &a76
            name: ""
            type: alias
            description: Regular expression representation of the capabilities of the token.
            targetSchema: *a1
        - name: expires
          description: Timestamp of token expiration.
          schema:
            &a77
            name: ""
            type: alias
            description: Timestamp of token expiration.
            targetSchema: *a2
        - name: issued
          description: Timestamp of token creation.
          schema:
            &a78
            name: ""
            type: alias
            description: Timestamp of token creation.
            targetSchema: *a2
        - name: keyName
          description: Name of the key used to create the token
          schema:
            &a79
            name: ""
            type: alias
            description: Name of the key used to create the token
            targetSchema: *a1
        - name: token
          description: The Ably Token.
          schema:
            &a80
            name: ""
            type: alias
            description: The Ably Token.
            targetSchema: *a1
  aliases:
    - *a27
    - *a28
    - *a29
    - *a30
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a3
    - *a38
    - *a4
    - *a39
    - *a40
    - *a41
    - *a5
    - *a42
    - *a6
    - *a43
    - *a44
    - *a45
    - *a46
    - *a47
    - *a48
    - *a49
    - *a50
    - *a51
    - *a52
    - *a53
    - *a54
    - *a55
    - *a56
    - *a57
    - *a58
    - *a59
    - *a60
    - *a61
    - *a62
    - *a63
    - *a7
    - *a64
    - *a65
    - *a66
    - *a67
    - *a68
    - *a69
    - *a70
    - *a71
    - *a72
    - *a73
    - *a74
    - *a75
    - *a76
    - *a77
    - *a78
    - *a79
    - *a80
    - *a81
