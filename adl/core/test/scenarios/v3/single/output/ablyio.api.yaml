http:
  connections:
    - url: https://rest.ably.io
  headers:
    - name: ErrorCode
      description: The error code.
      schema:
        &a3
        name:
          anonymous: ""
        type: int64
    - name: ErrorMessage
      description: The error message.
      schema:
        &a1
        name:
          anonymous: ""
        type: string
    - name: Link
      description: Links to related resources, in the format defined by [RFC
        5988](https://tools.ietf.org/html/rfc5988#section-5). This will
        potentially include a link with relation type `next`, `first`, and
        `current`, where appropiate.
      schema:
        &a78
        name:
          anonymous: ""
        type: alias
        constraints:
          - name: RegularExpression
            type: constraint
            length: (<(.*)?>; rel=\"(first|current|last)?\",)*(<(.*)?>;
              rel=\"(first|current|last)?\")+
        targetSchema: *a1
    - name: ServerId
      description: The ID for the server communicated with.
      schema: *a1
  parameters:
    - name: channel_id
      type: path
      description: The [Channel's ID](https://www.ably.io/documentation/rest/channels).
      expandParameterValues: false
      renderStyle: simple
      required: true
      schema: *a1
    - name: device_id
      type: path
      description: Device's ID.
      expandParameterValues: false
      renderStyle: simple
      required: true
      schema: *a1
    - name: direction
      type: query
      expandParameterValues: true
      renderStyle: form
      schema:
        &a10
        name:
          anonymous: ""
        type: enum
        elementSchema:
          &a2
          name:
            anonymous: ""
          type: alias
          defaults:
            - name:
                anonymous: ""
              type: server-default
              value: backwards
          targetSchema: *a1
        sealed: true
        values:
          - name:
              anonymous: ""
            type: constant
            value: forwards
            valueSchema: *a2
          - name:
              anonymous: ""
            type: constant
            value: backwards
            valueSchema: *a2
    - name: end
      type: query
      expandParameterValues: true
      renderStyle: form
      schema:
        &a79
        name:
          anonymous: ""
        type: alias
        defaults:
          - name:
              anonymous: ""
            type: server-default
            value: now
        targetSchema: *a1
    - name: limit
      type: query
      expandParameterValues: true
      renderStyle: form
      schema:
        &a80
        name:
          anonymous: ""
        type: alias
        defaults:
          - name:
              anonymous: ""
            type: server-default
            value: "100"
        targetSchema: *a3
    - name: start
      type: query
      expandParameterValues: true
      renderStyle: form
      schema: *a1
    - name: keyName
      type: path
      description: The [key
        name](https://www.ably.io/documentation/rest-api/token-request-spec#api-key-format)
        comprises of the app ID and key ID of an API key.
      expandParameterValues: false
      renderStyle: simple
      required: true
      schema: *a1
    - name: format
      type: query
      description: The response format you would like
      expandParameterValues: true
      renderStyle: form
      schema:
        &a11
        name:
          anonymous: ""
        type: enum
        elementSchema:
          &a4
          name:
            anonymous: ""
          type: alias
          targetSchema: *a1
        sealed: true
        values:
          - name:
              anonymous: ""
            type: constant
            value: json
            valueSchema: *a4
          - name:
              anonymous: ""
            type: constant
            value: jsonp
            valueSchema: *a4
          - name:
              anonymous: ""
            type: constant
            value: msgpack
            valueSchema: *a4
          - name:
              anonymous: ""
            type: constant
            value: html
            valueSchema: *a4
    - name: X-Ably-Version
      type: header
      description: The version of the API you wish to use.
      expandParameterValues: false
      renderStyle: simple
      schema: *a1
metaData:
  name: Ably
  contacts:
    - name: Ably Support
      email: support@ably.io
      role: author
      url: https://www.ably.io/contact
      attic:
        x-twitter: ablyrealtime
  description: The [REST API
    specification](https://www.ably.io/documentation/rest-api) for Ably.
  attic:
    x-apisguru-categories:
      - cloud
    x-logo:
      url: https://twitter.com/ablyrealtime/profile_image?size=original
    x-origin:
      - converter:
          url: https://github.com/lucybot/api-spec-converter
          version: 2.7.25
        format: openapi
        url: https://raw.githubusercontent.com/ably/open-specs/master/swagger.yaml
        version: "3.0"
    x-providerName: ably.io
schemas:
  primitives:
    - *a1
    - &a12
      name:
        anonymous: ""
      type: boolean
    - *a3
  enums:
    - &a16
      name:
        anonymous: ""
      type: enum
      elementSchema:
        &a5
        name:
          anonymous: ""
        type: alias
        description: Form factor of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name:
            anonymous: ""
          type: constant
          value: phone
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: tablet
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: desktop
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: tv
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: watch
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: car
          valueSchema: *a5
        - name:
            anonymous: ""
          type: constant
          value: embedded
          valueSchema: *a5
    - &a18
      name:
        anonymous: ""
      type: enum
      elementSchema:
        &a6
        name:
          anonymous: ""
        type: alias
        description: Platform of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name:
            anonymous: ""
          type: constant
          value: ios
          valueSchema: *a6
        - name:
            anonymous: ""
          type: constant
          value: android
          valueSchema: *a6
    - &a15
      name:
        anonymous: ""
      type: enum
      elementSchema:
        &a7
        name:
          anonymous: ""
        type: alias
        description: Defines which push platform is being used.
        targetSchema: *a1
      sealed: true
      values:
        - name:
            anonymous: ""
          type: constant
          value: apns
          valueSchema: *a7
        - name:
            anonymous: ""
          type: constant
          value: fcm
          valueSchema: *a7
        - name:
            anonymous: ""
          type: constant
          value: gcm
          valueSchema: *a7
    - &a20
      name:
        anonymous: ""
      type: enum
      elementSchema:
        &a8
        name:
          anonymous: ""
        type: alias
        description: the current state of the push device.
        targetSchema: *a1
      sealed: true
      values:
        - name:
            anonymous: ""
          type: constant
          value: Active
          valueSchema: *a8
        - name:
            anonymous: ""
          type: constant
          value: Failing
          valueSchema: *a8
        - name:
            anonymous: ""
          type: constant
          value: Failed
          valueSchema: *a8
    - &a27
      name:
        anonymous: ""
      type: enum
      elementSchema:
        &a9
        name:
          anonymous: ""
        type: alias
        description: The event signified by a PresenceMessage.
        targetSchema: *a1
      sealed: true
      values:
        - name:
            anonymous: ""
          type: constant
          value: ABSENT
          valueSchema: *a9
        - name:
            anonymous: ""
          type: constant
          value: PRESENT
          valueSchema: *a9
        - name:
            anonymous: ""
          type: constant
          value: ENTER
          valueSchema: *a9
        - name:
            anonymous: ""
          type: constant
          value: LEAVE
          valueSchema: *a9
        - name:
            anonymous: ""
          type: constant
          value: UPDATE
          valueSchema: *a9
    - *a10
    - *a11
  objects:
    - &a13
      name: Occupancy
      type: object
      description: An Occupancy instance indicating the occupancy of a channel. For
        events indicating regional activity of a channel this indicates activity
        in that region, not global activity.
      properties:
        - name: presenceConnections
          description: The number of connections that are authorised to enter members into
            the presence channel.
          schema:
            &a33
            name:
              anonymous: ""
            type: alias
            description: The number of connections that are authorised to enter members into
              the presence channel.
            targetSchema: *a3
        - name: presenceMembers
          description: The number of members currently entered into the presence channel.
          schema:
            &a34
            name:
              anonymous: ""
            type: alias
            description: The number of members currently entered into the presence channel.
            targetSchema: *a3
        - name: presenceSubscribers
          description: The number of connections that are authorised to subscribe to
            presence messages.
          schema:
            &a35
            name:
              anonymous: ""
            type: alias
            description: The number of connections that are authorised to subscribe to
              presence messages.
            targetSchema: *a3
        - name: publishers
          description: The number of connections attached to the channel that are
            authorised to publish.
          schema:
            &a36
            name:
              anonymous: ""
            type: alias
            description: The number of connections attached to the channel that are
              authorised to publish.
            targetSchema: *a3
        - name: subscribers
          description: The number of connections attached that are authorised to subscribe
            to messages.
          schema:
            &a37
            name:
              anonymous: ""
            type: alias
            description: The number of connections attached that are authorised to subscribe
              to messages.
            targetSchema: *a3
    - &a14
      name: ChannelStatus
      type: object
      description: A ChannelStatus instance.
      properties:
        - name: isActive
          description: A required boolean value indicating whether the channel that is the
            subject of the event is active. For events indicating regional
            activity of a channel this indicates activity in that region, not
            global activity.
          required: true
          schema: *a12
        - name: occupancy
          schema: *a13
    - name: ChannelDetails
      type: object
      properties:
        - name: channelId
          description: The required name of the channel including any qualifier, if any.
          required: true
          schema:
            &a31
            name:
              anonymous: ""
            type: alias
            description: The required name of the channel including any qualifier, if any.
            targetSchema: *a1
        - name: isGlobalMaster
          description: In events relating to the activity of a channel in a specific
            region, this optionally identifies whether or not that region is
            responsible for global coordination of the channel.
          schema: *a12
        - name: region
          description: In events relating to the activity of a channel in a specific
            region, this optionally identifies the region.
          schema:
            &a32
            name:
              anonymous: ""
            type: alias
            description: In events relating to the activity of a channel in a specific
              region, this optionally identifies the region.
            targetSchema: *a1
        - name: status
          schema: *a14
    - &a17
      name:
        anonymous: object
      type: object
      description: Optional metadata object for this device. The metadata for a device
        may only be set by clients with push-admin privileges and will be used
        more extensively in the future with smart notifications.
    - &a19
      name: Recipient
      type: object
      description: Push recipient details for a device.
      properties:
        - name: clientId
          description: Client ID of recipient
          schema:
            &a41
            name:
              anonymous: ""
            type: alias
            description: Client ID of recipient
            targetSchema: *a1
          writeonly: true
        - name: deviceId
          description: Client ID of recipient
          schema:
            name:
              anonymous: ""
            type: alias
            description: Client ID of recipient
            targetSchema: *a1
          writeonly: true
        - name: deviceToken
          description: when using APNs, specifies the required device token.
          schema:
            &a42
            name:
              anonymous: ""
            type: alias
            description: when using APNs, specifies the required device token.
            targetSchema: *a1
        - name: registrationToken
          description: when using GCM or FCM, specifies the required registration token.
          schema:
            &a43
            name:
              anonymous: ""
            type: alias
            description: when using GCM or FCM, specifies the required registration token.
            targetSchema: *a1
        - name: transportType
          description: Defines which push platform is being used.
          schema: *a15
    - name: DeviceDetails
      type: object
      properties:
        - name: clientId
          description: Optional trusted client identifier for the device.
          schema:
            &a38
            name:
              anonymous: ""
            type: alias
            description: Optional trusted client identifier for the device.
            targetSchema: *a1
        - name: deviceSecret
          description: Secret value for the device.
          schema:
            &a39
            name:
              anonymous: ""
            type: alias
            description: Secret value for the device.
            targetSchema: *a1
        - name: formFactor
          description: Form factor of the push device.
          schema: *a16
        - name: id
          description: Unique identifier for the device generated by the device itself.
          schema:
            &a40
            name:
              anonymous: ""
            type: alias
            description: Unique identifier for the device generated by the device itself.
            targetSchema: *a1
        - name: metadata
          description: Optional metadata object for this device. The metadata for a device
            may only be set by clients with push-admin privileges and will be
            used more extensively in the future with smart notifications.
          schema: *a17
        - name: platform
          description: Platform of the push device.
          schema: *a18
        - name: push.recipient
          schema: *a19
        - name: push.state
          description: the current state of the push device.
          readonly: true
          schema: *a20
    - name: Error
      type: object
      description: Returned error from failed REST.
      properties:
        - name: code
          description: Error code.
          schema:
            &a44
            name:
              anonymous: ""
            type: alias
            description: Error code.
            targetSchema: *a3
        - name: href
          description: Link to help with error.
          schema:
            &a45
            name:
              anonymous: ""
            type: alias
            description: Link to help with error.
            targetSchema: *a1
        - name: message
          description: Message explaining the error's cause.
          schema:
            &a46
            name:
              anonymous: ""
            type: alias
            description: Message explaining the error's cause.
            targetSchema: *a1
        - name: serverId
          description: Server ID with which error was encountered.
          schema:
            &a47
            name:
              anonymous: ""
            type: alias
            description: Server ID with which error was encountered.
            targetSchema: *a1
        - name: statusCode
          description: Status error code.
          schema:
            &a48
            name:
              anonymous: ""
            type: alias
            description: Status error code.
            targetSchema: *a3
    - &a21
      name: Notification
      type: object
      properties:
        - name: body
          description: Text below title on the expanded notification.
          schema:
            &a49
            name:
              anonymous: ""
            type: alias
            description: Text below title on the expanded notification.
            targetSchema: *a1
        - name: collapseKey
          description: Platform-specific, used to group notifications together.
          schema:
            &a50
            name:
              anonymous: ""
            type: alias
            description: Platform-specific, used to group notifications together.
            targetSchema: *a1
        - name: icon
          description: Platform-specific icon for the notification.
          schema:
            &a51
            name:
              anonymous: ""
            type: alias
            description: Platform-specific icon for the notification.
            targetSchema: *a1
        - name: sound
          description: Platform-specific sound for the notification.
          schema:
            &a52
            name:
              anonymous: ""
            type: alias
            description: Platform-specific sound for the notification.
            targetSchema: *a1
        - name: title
          description: Title to display at the notification.
          schema:
            &a53
            name:
              anonymous: ""
            type: alias
            description: Title to display at the notification.
            targetSchema: *a1
    - &a22
      name:
        anonymous: object
      type: object
      description: Extends and overrides generic values when delivering via APNs. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema: *a21
    - &a23
      name:
        anonymous: object
      type: object
      description: Extends and overrides generic values when delivering via GCM/FCM.
        [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema: *a21
    - &a24
      name:
        anonymous: object
      type: object
      description: Extends and overrides generic values when delivering via web. [See
        examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
      properties:
        - name: notification
          schema: *a21
    - &a25
      name: Push
      type: object
      properties:
        - name: apns
          description: Extends and overrides generic values when delivering via APNs. [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a22
        - name: data
          description: Arbitrary [key-value string-to-string
            payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
          schema:
            &a54
            name:
              anonymous: ""
            type: alias
            description: Arbitrary [key-value string-to-string
              payload](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example).
            targetSchema: *a1
        - name: fcm
          description: Extends and overrides generic values when delivering via GCM/FCM.
            [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a23
        - name: notification
          schema: *a21
        - name: web
          description: Extends and overrides generic values when delivering via web. [See
            examples](https://www.ably.io/documentation/general/push/publish#payload-structure)
          schema: *a24
    - &a26
      name: Extras
      type: object
      description: Extras object. Currently only allows for
        [push](https://www.ably.io/documentation/general/push/publish#channel-broadcast-example)
        extra.
      properties:
        - name: push
          schema: *a25
    - name: Message
      type: object
      description: Message object.
      properties:
        - name: clientId
          description: The [client
            ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
            of the publisher of this message.
          schema:
            &a55
            name:
              anonymous: ""
            type: alias
            description: The [client
              ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
              of the publisher of this message.
            targetSchema: *a1
        - name: connectionId
          description: The connection ID of the publisher of this message.
          schema:
            &a56
            name:
              anonymous: ""
            type: alias
            description: The connection ID of the publisher of this message.
            targetSchema: *a1
        - name: data
          description: The string encoded payload, with the encoding specified below.
          schema:
            &a57
            name:
              anonymous: ""
            type: alias
            description: The string encoded payload, with the encoding specified below.
            targetSchema: *a1
        - name: encoding
          description: This will typically be empty as all messages received from Ably are
            automatically decoded client-side using this value. However, if the
            message encoding cannot be processed, this attribute will contain
            the remaining transformations not applied to the data payload.
          schema:
            &a58
            name:
              anonymous: ""
            type: alias
            description: This will typically be empty as all messages received from Ably are
              automatically decoded client-side using this value. However, if
              the message encoding cannot be processed, this attribute will
              contain the remaining transformations not applied to the data
              payload.
            targetSchema: *a1
        - name: extras
          schema: *a26
        - name: id
          description: A Unique ID that can be specified by the publisher for [idempotent
            publishing](https://www.ably.io/documentation/rest/messages#idempotent).
          readonly: true
          schema:
            &a59
            name:
              anonymous: ""
            type: alias
            description: A Unique ID that can be specified by the publisher for [idempotent
              publishing](https://www.ably.io/documentation/rest/messages#idempotent).
            targetSchema: *a1
        - name: name
          description: The event name, if provided.
          schema:
            &a60
            name:
              anonymous: ""
            type: alias
            description: The event name, if provided.
            targetSchema: *a1
        - name: timestamp
          description: Timestamp when the message was received by the Ably, as
            milliseconds since the epoch.
          readonly: true
          schema:
            &a61
            name:
              anonymous: ""
            type: alias
            description: Timestamp when the message was received by the Ably, as
              milliseconds since the epoch.
            targetSchema: *a3
    - name: PresenceMessage
      type: object
      properties:
        - name: action
          description: The event signified by a PresenceMessage.
          readonly: true
          schema: *a27
        - name: clientId
          description: The client ID of the publisher of this presence update.
          schema:
            &a62
            name:
              anonymous: ""
            type: alias
            description: The client ID of the publisher of this presence update.
            targetSchema: *a1
        - name: connectionId
          description: The connection ID of the publisher of this presence update.
          schema:
            &a63
            name:
              anonymous: ""
            type: alias
            description: The connection ID of the publisher of this presence update.
            targetSchema: *a1
        - name: data
          description: The presence update payload, if provided.
          schema:
            &a64
            name:
              anonymous: ""
            type: alias
            description: The presence update payload, if provided.
            targetSchema: *a1
        - name: encoding
          description: This will typically be empty as all presence updates received from
            Ably are automatically decoded client-side using this value.
            However, if the message encoding cannot be processed, this attribute
            will contain the remaining transformations not applied to the data
            payload.
          schema:
            &a65
            name:
              anonymous: ""
            type: alias
            description: This will typically be empty as all presence updates received from
              Ably are automatically decoded client-side using this value.
              However, if the message encoding cannot be processed, this
              attribute will contain the remaining transformations not applied
              to the data payload.
            targetSchema: *a1
        - name: extras
          schema: *a26
        - name: id
          description: Unique ID assigned by Ably to this presence update.
          readonly: true
          schema:
            &a66
            name:
              anonymous: ""
            type: alias
            description: Unique ID assigned by Ably to this presence update.
            targetSchema: *a1
        - name: timestamp
          description: Timestamp when the presence update was received by Ably, as
            milliseconds since the epoch.
          readonly: true
          schema:
            &a67
            name:
              anonymous: ""
            type: alias
            description: Timestamp when the presence update was received by Ably, as
              milliseconds since the epoch.
            targetSchema: *a3
    - &a28
      name:
        anonymous: object
      type: object
      description: The
        [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
        (i.e. a set of channel names/namespaces and, for each, a set of
        operations) which should be a subset of the set of capabilities
        associated with the key specified in keyName.
      attic:
        example:
          channel1:
            - publish
            - subscribe
    - &a30
      name:
        anonymous: object
      type: object
      properties:
        - name: mac
          description: A signature, generated as an HMAC of each of the above components,
            using the key secret value.
          required: true
          schema:
            &a68
            name:
              anonymous: ""
            type: alias
            description: A signature, generated as an HMAC of each of the above components,
              using the key secret value.
            targetSchema: *a1
    - &a29
      name: TokenRequest
      type: object
      properties:
        - name: capability
          description: The
            [capabilities](https://www.ably.io/documentation/core-features/authentication#capabilities-explained)
            (i.e. a set of channel names/namespaces and, for each, a set of
            operations) which should be a subset of the set of capabilities
            associated with the key specified in keyName.
          required: true
          schema: *a28
        - name: clientId
          description: The [client
            ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
            to be assosciated with the token. Can be set to * to allow for any
            client ID to be used.
          schema:
            &a69
            name:
              anonymous: ""
            type: alias
            description: The [client
              ID](https://www.ably.io/documentation/core-features/authentication#identified-clients)
              to be assosciated with the token. Can be set to * to allow for any
              client ID to be used.
            targetSchema: *a1
        - name: keyName
          description: Name of the key used for the TokenRequest. The keyName comprises of
            the app ID and key ID on an API Key.
          required: true
          schema:
            &a70
            name:
              anonymous: ""
            type: alias
            description: Name of the key used for the TokenRequest. The keyName comprises of
              the app ID and key ID on an API Key.
            targetSchema: *a1
            attic:
              example: xVLyHw.LMJZxw
        - name: nonce
          description: An unquoted, un-escaped random string of at least 16 characters.
            Used to ensure the Ably TokenRequest cannot be reused.
          required: true
          schema:
            &a71
            name:
              anonymous: ""
            type: alias
            description: An unquoted, un-escaped random string of at least 16 characters.
              Used to ensure the Ably TokenRequest cannot be reused.
            targetSchema: *a1
        - name: timestamp
          description: Time of creation of the Ably TokenRequest.
          required: true
          schema:
            &a72
            name:
              anonymous: ""
            type: alias
            description: Time of creation of the Ably TokenRequest.
            targetSchema: *a3
    - name: SignedTokenRequest
      type: object
      extends:
        - *a29
        - *a30
    - name: TokenDetails
      type: object
      properties:
        - name: capability
          description: Regular expression representation of the capabilities of the token.
          schema:
            &a73
            name:
              anonymous: ""
            type: alias
            description: Regular expression representation of the capabilities of the token.
            targetSchema: *a1
        - name: expires
          description: Timestamp of token expiration.
          schema:
            &a74
            name:
              anonymous: ""
            type: alias
            description: Timestamp of token expiration.
            targetSchema: *a3
        - name: issued
          description: Timestamp of token creation.
          schema:
            &a75
            name:
              anonymous: ""
            type: alias
            description: Timestamp of token creation.
            targetSchema: *a3
        - name: keyName
          description: Name of the key used to create the token
          schema:
            &a76
            name:
              anonymous: ""
            type: alias
            description: Name of the key used to create the token
            targetSchema: *a1
        - name: token
          description: The Ably Token.
          schema:
            &a77
            name:
              anonymous: ""
            type: alias
            description: The Ably Token.
            targetSchema: *a1
  aliases:
    - *a31
    - *a32
    - *a33
    - *a34
    - *a35
    - *a36
    - *a37
    - *a38
    - *a39
    - *a5
    - *a40
    - *a6
    - *a41
    - *a42
    - *a43
    - *a7
    - *a8
    - *a44
    - *a45
    - *a46
    - *a47
    - *a48
    - *a49
    - *a50
    - *a51
    - *a52
    - *a53
    - *a54
    - *a55
    - *a56
    - *a57
    - *a58
    - *a59
    - *a60
    - *a61
    - *a9
    - *a62
    - *a63
    - *a64
    - *a65
    - *a66
    - *a67
    - *a68
    - *a69
    - *a70
    - *a71
    - *a72
    - *a73
    - *a74
    - *a75
    - *a76
    - *a77
    - *a78
    - *a2
    - *a79
    - *a80
    - *a4
